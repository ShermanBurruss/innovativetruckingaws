<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Innovative Trucking LLC</title>
    <!-- Bootstrap CSS and JavaScript -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/a6b30d1326.js" crossorigin="anonymous"></script>
    <!-- Personal CSS -->
    <link rel="stylesheet" href="innovativecss/styles.css" type="text/css">
</head>
<body>
    <section id="Title" class="formTitle colored-bg">
        <img class="header-logo" src="/images/IT-Logo.png" alt="Innovative Logo">
        <div class="formHead">
            <h1>Innovative Trucking LLC</h1>
            <h3>Driver Performance Scores</h3>
            <h4>Week of:<%= begDay %> to <%= endDay %></h4>
        </div>
        <img class="header-logo" src="/images/IT-Logo.png" alt="Innovative Logo">
    </section>  

    <section id="main" class="colored-bg">
        <div class="container listDiv">
            <h3>On Time Percentages</h3>
            <table>
                <thead>
                  <tr>
                    <th>Driver</th>
                    <th>Percentage</th>
                  </tr>
                </thead>
                <tbody>
                  <% onTime.forEach((item, index) => { %>
                    <tr>
                      <td><%= item.Name %></td>
                      <td><%= item.Percentage %></td>
                    </tr>
                  <% }); %>
                </tbody>
              </table>
        </div>

        <div class="container listDiv">
            <h3>Safety Scores</h3>
            <table>
                <thead>
                  <tr>
                    <th>Driver</th>
                    <th>Score</th>
                  </tr>
                </thead>
                <tbody>
                  <% scores.forEach((item, index) => { %>
                    <tr>
                      <td><%= item.Name %></td>
                      <td><%= item.Score %></td>
                    </tr>
                  <% }); %>
                </tbody>
              </table>
        </div>
        <div class="container listDiv">
            <h3>~ NOTES ~</h3>
            <ul style="list-style: none; font-weight: bolder; margin: 5px 0;">
                <li>On Time Percentage
                    <ul style="text-align: left; font-weight:400;">
                        <li>If your name isn't listed you have a 100% on time rating.</li>
                        <li>If your percentage is below 95% you can lose your bonus hours and may not be eligible for overtime.</li>
                    </ul>
                </li>
                <li>Safety Scores
                    <ul style="text-align: left; font-weight: 400;">
                        <li>If your name isn't listed you have a score of 0.</li>
                        <li>If your score is above 50 you can lose your bonus hours and may not be eligible for overtime.</li>
                    </ul>
                </li>
            </ul>
        </div>
        <script>
            // Assuming onTime and scores are arrays passed from the server
            const onTime = <%= onTime %>;
            const scores = <%= scores %>;

            // Function to populate the table rows
            function populateTable(tableId, data) {
                const tableBody = document.querySelector(`#${tableId} tbody`);
                data.forEach((item) => {
                    const row = document.createElement('tr');
                    item.forEach((cellValue) => {
                        const cell = document.createElement('td');
                        cell.textContent = cellValue;
                        row.appendChild(cell);
                    });
                    tableBody.appendChild(row);
                });
            }

            // Call the function to populate the tables
            populateTable('onTimeTable', onTime);
            populateTable('scoresTable', scores);
        </script>
 
